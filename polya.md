[知乎资料](https://zhuanlan.zhihu.com/p/80261375)
## 例子引入
从简单的环染色问题开始:
现在有一个4个珠子的手环,将他染上R,B的颜色
有多少本质不同的方案(本质相同只能在不重新染色的情况下变换得到)
将变换方式列出,可得到一个群G:
包括旋转0,90,270...x轴对称,y轴对称....

将染色方案列出并编号1,2,3...2^4共16种
1 2 3 4 5 6 7 .......   进行操作$ g \in G $ 得到标号如
1 2 4 3 6 5 7 .......
那么就可以知道 3/4 | 5/6 对应的染色方案是本质相同的,即为一个等价类
设进行的操作为$g_i$,可记作$g_i(3)=4 g_i(5)=6...$
我们要求的就是经过G中所有的操作后,共有多少等价类,即为答案

## Burnside引理
### 结论1:  
选一个染色的状态k,
$E_k$表示这个k的等价类(通过G中某个操作能到达的所有染色状态)
$Z_k$表示k的不动点集合(G中某个操作集合,该操作集合中的所有$f_i(k)=k$)
有$|G|=|E_k|*|Z_k|$

证明:
对于$E_k$中的一个等价状态$k_1$,定然有$g_1 \in G$使得$g_1(k)=k_1$
令$H_i=g_i*Z_k$,因为$Z$中所有操作都会使$k$不改变,而$H_1$中所有的操作都会让$k$变为$k_1$,所以$H_i \cap Z = \empty$且$H_i \cap H_j = \empty $
同时,$H_i$包含了所有使k变为$k_i$的操作(如果一个操作在*$g_i$后能让k变为$k_i$,那么它一定包含在$Z$中)
显然$\bigcup H_i$包含了G中的所有操作

### 结论2:
一同乱推:一个置换群把置换的数分成等价类的个数等于这个置换群各个元素(置换)不动点个数的平均数

证明:
设等价类的个数为t,现在我们需要求t
显然,t和不动点的个数有点关系,所以我们尝试用t来表示不动点的个数
$\sum_{i=1}^{i\leq t}\sum_{k\in E_i} |Z_k| $
其中$E_i$表示等价类
因为等价类中每个状态的$|Z_k|$是相同的(由结论一)
所以原式$=\sum_{i=1}^{i\leq t}|G|\\
=t|G|\\
=\sum_{k=1}^{k\leq n}|Z_k| $
所以$t={\sum_{k=1}^{k\leq n}|Z_k| \over |G|} $

## polya计数
关键在于如何快速求出不动点的个数
$$\begin{vmatrix}
1 & 2 & 3\\
2 & 3 & 1
\end{vmatrix}
$$
观察到类似上述置换的可以快速求出不动点个数,
即只有 _颜色全部相同的_ 状态才会为不动点


而任意一个置换都可以看作是上述置换的合成,如:
$$
\begin{vmatrix}
1 & 2 & 3 & 4\\
3 & 4 & 1 & 2
\end{vmatrix} $$
可以看作是 
$$\begin{vmatrix}
1 & 3 \\
3 & 1
\end{vmatrix}   
\begin{vmatrix}
2 & 4 \\
4 & 2
\end{vmatrix}
$$
的合成.
记作
$$
\begin{vmatrix}
1 & 2 & 3 & 4\\
3 & 4 & 1 & 2
\end{vmatrix} =
\begin{vmatrix}
1 & 3
\end{vmatrix}   \sigma
\begin{vmatrix}
2 & 4 
\end{vmatrix}
$$
即如果有3中颜色,那么该置换会产生$3^2$个不动点
##应用
现在一个矩形中用R,G两颜色染色,只考虑旋转是本质相同的方案
有置换:
$$
\begin{vmatrix}
1 & 2 & 3 &4\\
1 & 2 & 3 &4
\end{vmatrix} 
\begin{vmatrix}
1 & 2 & 3 &4\\
2 & 3 & 4 &1
\end{vmatrix} 
\begin{vmatrix}
1 & 2 & 3 &4\\
3 & 4 & 1 &2
\end{vmatrix} 
\begin{vmatrix}
1 & 2 & 3 &4\\
4 & 1 & 2 &3
\end{vmatrix}
$$
所以方案数共有:
$(2^4+2^1+2^2+2^1)\div 4 = 6 $种